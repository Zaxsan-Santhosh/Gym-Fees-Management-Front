<div class="register-container">
  <h2>Member Registration</h2>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <!-- Personal Details Section -->
    <h3>Personal Details</h3>
    <div class="form-row">
      <div class="form-section">
        <label for="firstName">First Name <span class="required">*</span></label>
        <input id="firstName" type="text" formControlName="firstName" />
        <div class="alert" *ngIf="isFieldInvalid('firstName')">
          <small *ngIf="registerForm.get('firstName')?.errors?.['required']">First Name is required.</small>
          <small *ngIf="registerForm.get('firstName')?.errors?.['minlength']">Must be at least 4 characters long.</small>
        </div>
      </div>
      <div class="form-section">
        <label for="lastName">Last Name <span class="required">*</span></label>
        <input id="lastName" type="text" formControlName="lastName" />
        <div class="alert" *ngIf="isFieldInvalid('lastName')">
          <small *ngIf="registerForm.get('lastName')?.errors?.['required']">Last Name is required.</small>
          <small *ngIf="registerForm.get('lastName')?.errors?.['minlength']">Must be at least 4 characters long.</small>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-section">
        <label for="email">Email <span class="required">*</span></label>
        <input id="email" type="email" formControlName="email" />
        <div class="alert" *ngIf="isFieldInvalid('email')">
          <small *ngIf="registerForm.get('email')?.errors?.['required']">Email is required.</small>
          <small *ngIf="registerForm.get('email')?.errors?.['email']">Invalid email format.</small>
        </div>
      </div>
      <div class="form-section">
        <label for="phoneNumber">Phone Number <span class="required">*</span></label>
        <input id="phoneNumber" type="text" formControlName="phoneNumber" />
        <div class="alert" *ngIf="isFieldInvalid('phoneNumber')">
          <small *ngIf="registerForm.get('phoneNumber')?.errors?.['required']">Phone number is required.</small>
          <small *ngIf="registerForm.get('phoneNumber')?.errors?.['pattern']">Must be 10 digits.</small>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-section">
        <label for="password">Password <span class="required">*</span></label>
        <input id="password" type="password" formControlName="password" />
        <div class="alert" *ngIf="isFieldInvalid('password')">
          <small *ngIf="registerForm.get('password')?.errors?.['required']">Password is required.</small>
          <small *ngIf="registerForm.get('password')?.errors?.['minlength']">Must be at least 6 characters long.</small>
          <small *ngIf="registerForm.get('password')?.errors?.['pattern']">Must contain a number, an uppercase letter, and a special character.</small>
        </div>
      </div>
      <div class="form-section">
        <label for="confirmPassword">Confirm Password <span class="required">*</span></label>
        <input id="confirmPassword" type="password" formControlName="confirmPassword" />
        <div class="alert" *ngIf="isFieldInvalid('confirmPassword')">
          <small *ngIf="registerForm.get('confirmPassword')?.errors?.['required']">Confirmation is required.</small>
          <small *ngIf="registerForm.hasError('passwordMismatch')">Passwords do not match.</small>
        </div>
      </div>
    </div>

    <!-- Additional Details Section -->
    <h3>Additional Details</h3>
    <div class="form-row">
      <div class="form-section">
        <label for="nic">NIC <span class="required">*</span></label>
        <input id="nic" type="text" formControlName="nic" />
        <div class="alert" *ngIf="isFieldInvalid('nic')">
          <small *ngIf="registerForm.get('nic')?.errors?.['required']">NIC is required.</small>
        </div>
      </div>
      <div class="form-section">
        <label for="age">Age <span class="required">*</span></label>
        <input id="age" type="number" formControlName="age" />
        <div class="alert" *ngIf="isFieldInvalid('age')">
          <small *ngIf="registerForm.get('age')?.errors?.['required']">Age is required.</small>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-section">
        <label for="gender">Gender</label>
        <select id="gender" formControlName="gender">
          <option value="" disabled>Select Gender</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
          <option value="other">Other</option>
        </select>
      </div>
      <div class="form-section">
        <label for="userRole">User Role</label>
        <select id="userRole" formControlName="userRole">
          <option value="user">User</option>
          <option value="admin">Admin</option>
          <option value="superadmin">Super Admin</option>
        </select>
      </div>
    </div>

    <div class="form-row">
      <div class="form-section">
        <label for="profileImage">Profile Image</label>
        <input id="profileImage" type="file" (change)="onFileSelect($event)" />
      </div>
      <div class="form-section">
        <label for="address">Address</label>
        <textarea id="address" formControlName="address" rows="3"></textarea>
      </div>
    </div>

    <!-- Submit Button -->
    <div class="form-row full-width">
      <button type="submit" [disabled]="!registerForm.valid">Register</button>
    </div>
  </form>
</div>
